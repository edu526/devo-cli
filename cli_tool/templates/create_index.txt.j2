-- Description: Brief description of why this index is needed
-- Ticket: [TICKET-NUMBER]
-- Author: [YOUR_NAME]
-- Date: [YYYY-MM-DD]

-- Safe index creation for PostgreSQL
CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_{table_name}_{column_definition}
ON {schema}."{TableName}"
(({column_expression}))  -- For computed/expression indexes
[WHERE {condition}];     -- Optional: For partial indexes

-- Example:
-- CREATE INDEX CONCURRENTLY IF NOT EXISTS idx_rides_scheduledtime_tz_date
-- ON dbo."Rides"
-- ((("ScheduledTime" AT TIME ZONE "TimeZoneID")::date))
-- WHERE "ScheduledTime" >= '2024-01-01 00:00:00';

-- Notes:
-- 1. File naming convention: V{CURRENT_DATE}.{TASK_ID}__{DESCRIPTION}.sql
-- 2. Use CONCURRENTLY to avoid table locks
-- 3. Use IF NOT EXISTS to make it idempotent
-- 4. Always include schema name
-- 5. Use double quotes for case-sensitive identifiers
